# ğŸ¨ Clean Architecture Visualization

## ğŸ—ï¸ Tá»•ng Quan Kiáº¿n TrÃºc

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PRESENTATION LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  UI (Jetpack Compose)                                   â”‚    â”‚
â”‚  â”‚  - Screens (Composables)                                â”‚    â”‚
â”‚  â”‚  - Navigation                                           â”‚    â”‚
â”‚  â”‚  - Theme & Components                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†•ï¸                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ViewModels                                             â”‚    â”‚
â”‚  â”‚  - State Management (StateFlow)                         â”‚    â”‚
â”‚  â”‚  - Handle UI Events                                     â”‚    â”‚
â”‚  â”‚  - Call UseCases                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DOMAIN LAYER                               â”‚
â”‚  (Business Logic - Platform Independent)                        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  UseCases                                               â”‚    â”‚
â”‚  â”‚  - LoginUseCase                                         â”‚    â”‚
â”‚  â”‚  - GetPostsUseCase                                      â”‚    â”‚
â”‚  â”‚  - CreatePostUseCase                                    â”‚    â”‚
â”‚  â”‚  - Business Rules & Validation                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†•ï¸                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Repository Interfaces (Contracts)                      â”‚    â”‚
â”‚  â”‚  - AuthRepository                                       â”‚    â”‚
â”‚  â”‚  - PostRepository                                       â”‚    â”‚
â”‚  â”‚  - UserRepository                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†•ï¸                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Domain Models                                          â”‚    â”‚
â”‚  â”‚  - User, Post, Comment                                  â”‚    â”‚
â”‚  â”‚  - Pure Kotlin classes                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA LAYER                                â”‚
â”‚  (Data Management)                                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Repository Implementations                             â”‚    â”‚
â”‚  â”‚  - AuthRepositoryImpl                                   â”‚    â”‚
â”‚  â”‚  - PostRepositoryImpl                                   â”‚    â”‚
â”‚  â”‚  - Handle data sources orchestration                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†•ï¸                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Remote DataSource  â”‚         â”‚  Local DataSource   â”‚       â”‚
â”‚  â”‚  - API Calls        â”‚         â”‚  - Room Database    â”‚       â”‚
â”‚  â”‚  - DTOs             â”‚         â”‚  - SharedPrefs      â”‚       â”‚
â”‚  â”‚  - Retrofit         â”‚         â”‚  - Entities         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚           â†•ï¸                               â†•ï¸                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Network            â”‚         â”‚  Local Storage      â”‚       â”‚
â”‚  â”‚  (Internet)         â”‚         â”‚  (SQLite)           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CORE LAYER                               â”‚
â”‚  (Shared utilities & configurations)                             â”‚
â”‚                                                                  â”‚
â”‚  - Base Classes (BaseViewModel, BaseUseCase)                    â”‚
â”‚  - Dependency Injection (Hilt Modules)                          â”‚
â”‚  - Network Configuration (Retrofit, OkHttp)                     â”‚
â”‚  - Utils & Extensions                                           â”‚
â”‚  - Constants                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Flow Example: User Login

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LoginScreen.kt  â”‚  User nháº­p username & password
â”‚  (Composable)    â”‚  Nháº¥n button "Login"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ onEvent(LoginEvent.LoginClicked)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LoginViewModel.kt  â”‚  Handle event
â”‚                    â”‚  Validate input
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ loginUseCase(params)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LoginUseCase.kt   â”‚  Additional validation
â”‚  (Domain)          â”‚  Business rules
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ authRepository.login(username, password)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AuthRepository.kt   â”‚  Interface (Contract)
â”‚ (Domain)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Implemented by â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AuthRepositoryImpl.kt    â”‚  Orchestrate data sources
â”‚ (Data)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ remoteDataSource.login()
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AuthRemoteDataSource.kt     â”‚  API call
â”‚ (Data)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Retrofit â†’ POST /auth/login
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API                â”‚  Server xá»­ lÃ½
â”‚  (External)                 â”‚  Tráº£ vá» UserDto
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Response: UserDto
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AuthRepositoryImpl.kt    â”‚  mapper.toDomain(userDto)
â”‚                          â”‚  Convert DTO â†’ Domain Model
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Resource.Success(user)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LoginUseCase.kt   â”‚  Return result
â”‚  (Domain)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Resource<User>
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LoginViewModel.kt  â”‚  Update UI State
â”‚                    â”‚  updateState { copy(user = ...) }
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ uiState emitted
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LoginScreen.kt  â”‚  Collect state
â”‚  (Composable)    â”‚  Navigate to Home
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ Cáº¥u TrÃºc ThÆ° Má»¥c Chi Tiáº¿t

```
app/src/main/java/com/kma/forumkma/
â”‚
â”œâ”€â”€ ğŸ“ core/                            # Core utilities
â”‚   â”œâ”€â”€ ğŸ“ base/
â”‚   â”‚   â”œâ”€â”€ BaseActivity.kt
â”‚   â”‚   â”œâ”€â”€ BaseFragment.kt
â”‚   â”‚   â”œâ”€â”€ BaseViewModel.kt            âœ… Created
â”‚   â”‚   â””â”€â”€ BaseUseCase.kt              âœ… Created
â”‚   â”œâ”€â”€ ğŸ“ di/                          # Dependency Injection
â”‚   â”‚   â”œâ”€â”€ AppModule.kt
â”‚   â”‚   â”œâ”€â”€ NetworkModule.kt
â”‚   â”‚   â”œâ”€â”€ DatabaseModule.kt
â”‚   â”‚   â””â”€â”€ RepositoryModule.kt
â”‚   â”œâ”€â”€ ğŸ“ network/
â”‚   â”‚   â”œâ”€â”€ ApiService.kt
â”‚   â”‚   â”œâ”€â”€ ApiClient.kt
â”‚   â”‚   â””â”€â”€ ğŸ“ interceptors/
â”‚   â”‚       â”œâ”€â”€ AuthInterceptor.kt      âœ… Created
â”‚   â”‚       â””â”€â”€ LoggingInterceptor.kt   âœ… Created
â”‚   â”œâ”€â”€ ğŸ“ local/
â”‚   â”‚   â”œâ”€â”€ AppDatabase.kt
â”‚   â”‚   â”œâ”€â”€ SharedPrefsManager.kt
â”‚   â”‚   â””â”€â”€ ğŸ“ dao/
â”‚   â””â”€â”€ ğŸ“ utils/
â”‚       â”œâ”€â”€ Constants.kt                âœ… Created
â”‚       â”œâ”€â”€ Extensions.kt               âœ… Created
â”‚       â”œâ”€â”€ DateUtils.kt
â”‚       â””â”€â”€ ValidationUtils.kt
â”‚
â”œâ”€â”€ ğŸ“ data/                            # Data Layer
â”‚   â”œâ”€â”€ ğŸ“ remote/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dto/                     # API Models
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginRequest.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginResponse.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserDto.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ post/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PostDto.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CreatePostRequest.kt
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ comment/
â”‚   â”‚   â”‚       â””â”€â”€ CommentDto.kt
â”‚   â”‚   â””â”€â”€ ğŸ“ datasource/
â”‚   â”‚       â”œâ”€â”€ AuthRemoteDataSource.kt
â”‚   â”‚       â”œâ”€â”€ PostRemoteDataSource.kt
â”‚   â”‚       â””â”€â”€ CommentRemoteDataSource.kt
â”‚   â”œâ”€â”€ ğŸ“ local/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ entities/                # Room Entities
â”‚   â”‚   â”‚   â”œâ”€â”€ UserEntity.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ PostEntity.kt
â”‚   â”‚   â”‚   â””â”€â”€ CommentEntity.kt
â”‚   â”‚   â””â”€â”€ ğŸ“ datasource/
â”‚   â”‚       â”œâ”€â”€ UserLocalDataSource.kt
â”‚   â”‚       â””â”€â”€ PostLocalDataSource.kt
â”‚   â”œâ”€â”€ ğŸ“ mapper/                      # DTO â†” Domain
â”‚   â”‚   â”œâ”€â”€ UserMapper.kt
â”‚   â”‚   â”œâ”€â”€ PostMapper.kt
â”‚   â”‚   â””â”€â”€ CommentMapper.kt
â”‚   â””â”€â”€ ğŸ“ repository/                  # Implementations
â”‚       â”œâ”€â”€ AuthRepositoryImpl.kt
â”‚       â”œâ”€â”€ PostRepositoryImpl.kt
â”‚       â””â”€â”€ CommentRepositoryImpl.kt
â”‚
â”œâ”€â”€ ğŸ“ domain/                          # Domain Layer
â”‚   â”œâ”€â”€ ğŸ“ model/                       # Domain Models
â”‚   â”‚   â”œâ”€â”€ User.kt                     âœ… Created
â”‚   â”‚   â”œâ”€â”€ Post.kt                     âœ… Created
â”‚   â”‚   â”œâ”€â”€ Comment.kt
â”‚   â”‚   â””â”€â”€ Group.kt
â”‚   â”œâ”€â”€ ğŸ“ repository/                  # Interfaces
â”‚   â”‚   â”œâ”€â”€ AuthRepository.kt           âœ… Created
â”‚   â”‚   â”œâ”€â”€ PostRepository.kt
â”‚   â”‚   â”œâ”€â”€ CommentRepository.kt
â”‚   â”‚   â””â”€â”€ UserRepository.kt
â”‚   â””â”€â”€ ğŸ“ usecase/                     # Business Logic
â”‚       â”œâ”€â”€ ğŸ“ auth/
â”‚       â”‚   â”œâ”€â”€ LoginUseCase.kt         âœ… Created
â”‚       â”‚   â”œâ”€â”€ RegisterUseCase.kt
â”‚       â”‚   â”œâ”€â”€ LogoutUseCase.kt
â”‚       â”‚   â””â”€â”€ GetCurrentUserUseCase.kt
â”‚       â”œâ”€â”€ ğŸ“ post/
â”‚       â”‚   â”œâ”€â”€ GetPostsUseCase.kt
â”‚       â”‚   â”œâ”€â”€ CreatePostUseCase.kt
â”‚       â”‚   â”œâ”€â”€ UpdatePostUseCase.kt
â”‚       â”‚   â””â”€â”€ DeletePostUseCase.kt
â”‚       â””â”€â”€ ğŸ“ comment/
â”‚           â”œâ”€â”€ GetCommentsUseCase.kt
â”‚           â””â”€â”€ CreateCommentUseCase.kt
â”‚
â””â”€â”€ ğŸ“ presentation/                    # Presentation Layer
    â”œâ”€â”€ MainActivity.kt
    â”œâ”€â”€ MainApplication.kt
    â”œâ”€â”€ ğŸ“ navigation/
    â”‚   â”œâ”€â”€ NavGraph.kt
    â”‚   â”œâ”€â”€ Screen.kt
    â”‚   â””â”€â”€ NavigationComponent.kt
    â”œâ”€â”€ ğŸ“ theme/
    â”‚   â”œâ”€â”€ Color.kt
    â”‚   â”œâ”€â”€ Theme.kt
    â”‚   â”œâ”€â”€ Type.kt
    â”‚   â””â”€â”€ Shape.kt
    â”œâ”€â”€ ğŸ“ components/                  # Reusable UI
    â”‚   â”œâ”€â”€ CustomButton.kt
    â”‚   â”œâ”€â”€ CustomTextField.kt
    â”‚   â”œâ”€â”€ LoadingDialog.kt
    â”‚   â””â”€â”€ PostItem.kt
    â””â”€â”€ ğŸ“ features/                    # Feature modules
        â”œâ”€â”€ ğŸ“ splash/
        â”‚   â”œâ”€â”€ SplashScreen.kt
        â”‚   â””â”€â”€ SplashViewModel.kt
        â”œâ”€â”€ ğŸ“ auth/
        â”‚   â”œâ”€â”€ ğŸ“ login/
        â”‚   â”‚   â”œâ”€â”€ LoginScreen.kt
        â”‚   â”‚   â”œâ”€â”€ LoginViewModel.kt   âœ… Created
        â”‚   â”‚   â””â”€â”€ LoginState.kt       âœ… Created
        â”‚   â””â”€â”€ ğŸ“ register/
        â”‚       â”œâ”€â”€ RegisterScreen.kt
        â”‚       â””â”€â”€ RegisterViewModel.kt
        â”œâ”€â”€ ğŸ“ home/
        â”‚   â”œâ”€â”€ HomeScreen.kt
        â”‚   â”œâ”€â”€ HomeViewModel.kt
        â”‚   â””â”€â”€ ğŸ“ components/
        â”‚       â”œâ”€â”€ PostItem.kt
        â”‚       â””â”€â”€ PostListItem.kt
        â”œâ”€â”€ ğŸ“ post/
        â”‚   â”œâ”€â”€ ğŸ“ detail/
        â”‚   â”œâ”€â”€ ğŸ“ create/
        â”‚   â””â”€â”€ ğŸ“ edit/
        â”œâ”€â”€ ğŸ“ profile/
        â”œâ”€â”€ ğŸ“ messages/
        â””â”€â”€ ğŸ“ settings/

Legend:
âœ… = File Ä‘Ã£ Ä‘Æ°á»£c táº¡o sáºµn
ğŸ“ = ThÆ° má»¥c
```

## ğŸ”„ Dependency Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Dependency Rules                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  presentation  â”€â”€â†’  domain  â”€â”€â†’  core                       â”‚
â”‚       â†“                              â†‘                       â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  data  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                              â”‚
â”‚  âœ… Allowed:   presentation â†’ domain                         â”‚
â”‚               presentation â†’ data (only for DI)             â”‚
â”‚               data â†’ domain                                 â”‚
â”‚               domain â†’ core                                 â”‚
â”‚               data â†’ core                                   â”‚
â”‚                                                              â”‚
â”‚  âŒ Forbidden: domain â†’ data                                 â”‚
â”‚               domain â†’ presentation                         â”‚
â”‚               data â†’ presentation                           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Component Interactions

### ViewModel â†’ UseCase â†’ Repository

```
LoginViewModel
    â”‚
    â”œâ”€ @Inject LoginUseCase
    â”‚       â”‚
    â”‚       â”œâ”€ @Inject AuthRepository (interface)
    â”‚       â”‚                â”‚
    â”‚       â”‚                â””â”€ Implemented by AuthRepositoryImpl
    â”‚       â”‚                           â”‚
    â”‚       â”‚                           â”œâ”€ AuthRemoteDataSource
    â”‚       â”‚                           â”‚       â””â”€ Retrofit API
    â”‚       â”‚                           â”‚
    â”‚       â”‚                           â”œâ”€ UserLocalDataSource
    â”‚       â”‚                           â”‚       â””â”€ Room DAO
    â”‚       â”‚                           â”‚
    â”‚       â”‚                           â””â”€ UserMapper
    â”‚       â”‚                                   â””â”€ DTO â†” Domain
    â”‚       â”‚
    â”‚       â””â”€ Business rules & validation
    â”‚
    â””â”€ State management (StateFlow)
```

## ğŸ“ Code Organization Pattern

### Feature Structure
```
features/[feature-name]/
    â”œâ”€â”€ [Feature]Screen.kt          # UI (Composable)
    â”œâ”€â”€ [Feature]ViewModel.kt       # State & Logic
    â”œâ”€â”€ [Feature]State.kt           # State & Events
    â””â”€â”€ components/                 # Feature-specific components
        â”œâ”€â”€ [Component1].kt
        â””â”€â”€ [Component2].kt
```

### Example: Post Feature
```
features/post/
    â”œâ”€â”€ detail/
    â”‚   â”œâ”€â”€ PostDetailScreen.kt     # UI
    â”‚   â”œâ”€â”€ PostDetailViewModel.kt  # Logic
    â”‚   â”œâ”€â”€ PostDetailState.kt      # State
    â”‚   â””â”€â”€ components/
    â”‚       â”œâ”€â”€ CommentSection.kt
    â”‚       â””â”€â”€ LikeButton.kt
    â”œâ”€â”€ create/
    â”‚   â”œâ”€â”€ CreatePostScreen.kt
    â”‚   â””â”€â”€ CreatePostViewModel.kt
    â””â”€â”€ edit/
        â”œâ”€â”€ EditPostScreen.kt
        â””â”€â”€ EditPostViewModel.kt
```

---

**TÃ i liá»‡u nÃ y giÃºp báº¡n hÃ¬nh dung rÃµ hÆ¡n vá» Clean Architecture! ğŸš€**
